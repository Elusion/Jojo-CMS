// ----------------------------------------------------------------------------
// j(Universal?)TagEditor, JQuery plugin
// v 1.0 beta
// ----------------------------------------------------------------------------
// Copyright (C) 2007 Jay Salvat
// http://www.jaysalvat.com/jquery/jtageditor/
// ----------------------------------------------------------------------------
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
// 
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
// 
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
// ----------------------------------------------------------------------------
// Packed with: dean.edwards.name/packer/
// ----------------------------------------------------------------------------
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(4($){$.2c.L=4(p){2 q=Y;r={1K:"L-2j",1x:"L-28",1q:"L-21",2X:"L-2Q",1S:"L-2D",1H:"L-1d",1C:"",1b:"",1A:"1y",1e:{I:"",B:"",S:"",G:D},1m:{I:"<2V />\\n",B:"",S:"",G:8},1g:{I:"<p>",B:"</p>",S:"",G:8},1f:{I:"     ",B:"",S:"",G:8},1I:"<(.*?)>",X:"Q/Q-2s.2p"};2 r=$.2m(r,p);2 s=0;2 t=0;2 u=0;2 v=1a 2b();2 w=8;2 x=8;2 z=8;A Y.1t(4(){2 f=Y;2 g=$(f);2 h=g.W("17")||"";2 j=g.W("K")||"";2 k=g.W("Z")||"";2 l=g.W("2T")||"";$(f).M("<P 17=\\""+h+"\\" Z=\\""+k+"\\" K=\\""+j+"\\"></P>");2 m=$("<P K=\\""+r.1x+"\\"><1V></1V></P>").2N(f);$(f).W("K",r.1K);3(2J(r.X)=="H"){$.2H({1E:8});$.2A(r.X,4(a){r.X=a})}$(r.X).1t(4(i){2 a=Y;$("<1O K=\'"+a.2u+" "+r.1q+(i+1)+"\'><a 1M=\\"\\" 1U=\\""+a.1U+"\\" Z=\\""+a.1D+"\\">"+a.1D+"</a></1O>").2l(4(){R(a);A 8}).2i(m)});2 o=$("<P K=\\""+r.2g+"\\"></P>").2e($(Y)).O("2d",4(b){2 c=$(f).12();2 y=b.1z;2 d=4(a){$(f).12(2a.29(20,a.1z+c-y))};2 e=4(a){$("Q").1w("1v",d).1w("1u",e)};$("Q").O("1v",d).O("1u",e)});$(f).O("27",19).O("26",19).O("25",1s);4 18(b){3(b){A b.11(/@(.*?)@/g,4(a){A 24(a.11(/@/g,""),"")})}7{A""}}4 R(a){T();3($.23(1p(a.S))){1p(a.S).22()}7{I=18(a.I);B=18(a.B);3(6!=""){M(I,B)}7{3(!1o(B)){3(B){v.1Z(B)}M(I,"")}7{v.1r();M("",B)}}}}4 M(a,b){H=a+6+b;3(w==D&&x==D){J=6.11(1a 1n("\\r?\\n","g"),"~§~");J=J.1B("~§~");n=J.5;1l(i=n-1;i>=0;i--){J[i]=(J[i]!="")?a+J[i]+b:""}H=J.2W("\\r\\n");N=s;V=s+H.5-n+1}7 3(w==D){N=s+a.5;V=s+a.5+6.5}7 3(x==D){N=s;V=s+H.5}7{N=s+a.5+6.5+b.5;V=N}3(F.6){1Y=F.6.1k();1Y.16=H}7 3(s||s=="0"){f.C=f.C.1j(0,s)+H+f.C.1j(t,f.C.5)}7{f.C+=H}1W(N,V)}4 1W(a,b){3(f.1i){E=f.1i();E.2P(D);E.2M("1c",a);E.1T("1c",b-a);E.2K()}7 3(f.1R){f.1R(a,b)}f.1F=u;f.14()}4 T(){f.14();u=f.1F;3(F.6){6=F.6.1k().16;3($.2I.2F){E=f.1i();E.2E(F.6.1k().2C());E.1T("1c",f.C.5);s=f.C.5-E.16.5;s=s-f.C.2B(0,s).1B("\\r\\n").5;3(6.5>0)s-=1;t=6.5}7{s=f.15;t=f.1L}}7 3(f.15||f.15=="0"){s=f.15;t=f.1L;6=f.C.1j(s,t)}7{6=""}A 6}4 2z(){T();6=6.11(1a 1n(r.1I,"g"),"");M("","")}4 2y(){2 a="";n=v.5;1l(i=n-1;i>=0;i--){a+=v[i];v.1r()}T();M("",a);f.14()}4 1d(){2 b;3(r.1b!=""){$.2x({1J:"2w",1E:8,2v:r.1b,1y:r.1A+"="+$(f).1G(),2t:4(a){b=a}})}7{b="<Q>";b+="<1N><Z>2r</Z>";b+="<2q 1M=\\""+r.1C+"\\" 2G=\\"2o\\" 1J=\\"16/2n\\">";b+="</1N>";b+="<1Q 17=\\""+r.1S+"\\" K=\\""+r.1H+"\\">"+$(f).1G()+"</1Q>";b+="</Q>"}U=2L.1P("","1d","2k=2O, 1X="+$(f).1X()+", 12="+$(f).12());U.F.1P();U.F.2h(b);U.F.2R();U.14()}4 1o(a){2 n=v.5;1l(2 i=0;i<n;i++){3(v[i]==a){A D}}A 8}4 19(a){w=a.2S;x=a.2f;z=a.2U}4 1s(a){T();3(a.1h==13||a.1h==10){3(w==D){w=8;R(r.1g);A r.1g.G}7 3(x==D){x=8;R(r.1m);A r.1m.G}7{R(r.1e);A r.1e.G}}3(a.1h==9){R(r.1f);A r.1f.G}}})}})(2Y);',62,185,'||var|if|function|length|selection|else|false||||||||||||||||||||||||||||return|closeTag|value|true|range|document|preventDefault|string|openTag|lines|class|jTagEditor|wrap|start|bind|div|html|tag|callBack|get|win|end|attr|tagSet|this|title||replace|height||focus|selectionStart|text|id|attribute|keyUpDown|new|previewParser|character|preview|insertOnEnter|insertOnTab|insertOnCtrlEnter|keyCode|createTextRange|substring|createRange|for|insertOnShiftEnter|RegExp|tagIsOpen|eval|buttonClassName|pop|keyPress|each|mouseup|mousemove|unbind|toolBarClassName|data|clientY|previewVarName|split|previewCss|label|async|scrollTop|val|previewClassName|tagMask|type|editorClassName|selectionEnd|href|head|li|open|body|setSelectionRange|previewId|moveEnd|accesskey|ul|set|width|newSelection|push||button|call|isFunction|prompt|keypress|keyup|keydown|toolBar|max|Math|Array|fn|mousedown|insertAfter|shiftKey|resizeHandleClassName|write|appendTo|editor|scrollbars|click|extend|css|stylesheet|js|link|Preview|tags|success|className|url|POST|ajax|closeAll|cleanAll|getJSON|substr|getBookmark|previewWindow|moveToBookmark|msie|rel|ajaxSetup|browser|typeof|select|window|moveStart|insertBefore|yes|collapse|resizeHandle|close|ctrlKey|name|altKey|br|join|resizeHanbleClassName|jQuery'.split('|'),0,{}))